<!--
 * @Author: 吴楚标
 * @Date: 2021-05-27 14:11:58
 * @LastEditors: 吴楚标
 * @LastEditTime: 2021-05-27 14:36:33
 * @Description: 
-->
<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div id="app">
        {{message}}
        <counter :count="1" @numberinc="handleIncrece"></counter>
        <counter :count="2" @numberinc="handleIncrece"></counter>
        <div>{{total}}</div>
    </div>
 
    <script src="../js/vue.js"></script>
    <script>
        const counter ={
            props: ['count'],
            data () {
                return {
                    number:this.count
                }
            },
            template:'<div @click="handleClick">{{number}}</div>',
            methods: {
                handleClick(){
                    this.number = this.number +2
                    this.$emit('numberinc',2)   //点击触发监听 同时传参数 2 到handleIncrece
                }
            }
        }
        
        const app = new Vue({
            el: '#app',
            data: {
            message: 'hello',
            total:3
        }, 
          
            components: {
                counter: counter
            },
            methods: {
                handleIncrece(step){
                    this.total +=step
                }
            }
        });
    </script>
</body>

</html>     
