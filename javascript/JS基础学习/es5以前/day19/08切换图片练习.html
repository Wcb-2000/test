<!--
 * @Author: 吴楚标
 * @Date: 2021-04-28 15:25:41
 * @LastEditors: 吴楚标
 * @LastEditTime: 2021-04-28 15:51:16
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>

        window.onload = function () {

            //使图片自动切换

            //获取image标签
            var img1 = document.getElementById("img1");

            //创建一个数组保存图片的路径
            var imgArr = ["../../img/select1.jpg", "../../img/select2.jpg", "../../img/select3.jpg", "../../img/select4.jpg"];

            //创建变量，保存当前图片的索引
            var index = 0;
            
            //定义一个变量，保存计时器
            var timer;

            //为btn绑定单击响应函数
            var btn01 = document.getElementById("btn01");
            btn01.onclick = function () {

                /*
                    目前，我们每点击一次按钮，就会开启一个定时器
                     点击多次，就会开启多个定时器，这就会导致图片的切换速度过快
                     并且我们只能关闭最后一次开启的定时器
                */

                //在开启定时器之前，需要将当前元素上的其他定时器关闭
                clearInterval(timer);

                /*
                开启定时器，使图片自动切换
                */

               timer = setInterval(function () {

                    //索引自增
                    index++;

                    //判断索引是否超过最大索引

                    //写法1
                    // if(index>=imgArr.length){
                    //     //则将index设置为0
                    //     index= 0;
                    // }

                    //写法2
                    index %= imgArr.length;


                    //修改img1的src属性
                    img1.src = imgArr[index];

                }, 1000);

                // img1.src = imgArr[2];
            };
            
            //为btn02绑定一个单击响应汉纳树
            var btn02 =document.getElementById("btn02");
            btn02.onclick = function(){
                //点击按钮，停止图片自动切换，关闭定时器
                /*
                    clearInterval()可以接收任意参数
                    如果参数是一个有效的定时器标识，则停止对应的定时器
                    如果参数不是一个有效的标识，则说明也不做
                */
                clearInterval(timer);
            }


        };

    </script>
</head>

<body>
    <image id="img1" src="../../img/select1.jpg"></image>

    <button id="btn01">开始</button>
    <button id="btn02">停止</button>
</body>

</html>